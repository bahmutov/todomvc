{"version":3,"sources":["js/app.jsx"],"names":["app","ALL_TODOS","ACTIVE_TODOS","COMPLETED_TODOS","TodoFooter","TodoItem","ENTER_KEY","TodoApp","React","createClass","getInitialState","nowShowing","editing","componentDidMount","setState","router","Router","bind","init","handleNewTodoKeyDown","event","keyCode","preventDefault","val","findDOMNode","refs","newField","value","trim","props","model","addTodo","toggleAll","checked","target","toggle","todoToToggle","destroy","todo","edit","id","save","todoToSave","text","cancel","clearCompleted","render","footer","main","todos","shownTodos","filter","state","completed","todoItems","map","activeTodoCount","reduce","accum","completedCount","length","TodoModel","document","getElementsByClassName","subscribe"],"mappings":"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","file":"app.958c1813.map","sourceRoot":"..","sourcesContent":["/*jshint quotmark:false */\n/*jshint white:false */\n/*jshint trailing:false */\n/*jshint newcap:false */\n/*global React, Router*/\nvar app = app || {};\n\n(function () {\n\t'use strict';\n\n\tapp.ALL_TODOS = 'all';\n\tapp.ACTIVE_TODOS = 'active';\n\tapp.COMPLETED_TODOS = 'completed';\n\tvar TodoFooter = app.TodoFooter;\n\tvar TodoItem = app.TodoItem;\n\n\tvar ENTER_KEY = 13;\n\n\tvar TodoApp = React.createClass({\n\t\tgetInitialState: function () {\n\t\t\treturn {\n\t\t\t\tnowShowing: app.ALL_TODOS,\n\t\t\t\tediting: null\n\t\t\t};\n\t\t},\n\n\t\tcomponentDidMount: function () {\n\t\t\tvar setState = this.setState;\n\t\t\tvar router = Router({\n\t\t\t\t'/': setState.bind(this, {nowShowing: app.ALL_TODOS}),\n\t\t\t\t'/active': setState.bind(this, {nowShowing: app.ACTIVE_TODOS}),\n\t\t\t\t'/completed': setState.bind(this, {nowShowing: app.COMPLETED_TODOS})\n\t\t\t});\n\t\t\trouter.init('/');\n\t\t},\n\n\t\thandleNewTodoKeyDown: function (event) {\n\t\t\tif (event.keyCode !== ENTER_KEY) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tevent.preventDefault();\n\n\t\t\tvar val = React.findDOMNode(this.refs.newField).value.trim();\n\n\t\t\tif (val) {\n\t\t\t\tthis.props.model.addTodo(val);\n\t\t\t\tReact.findDOMNode(this.refs.newField).value = '';\n\t\t\t}\n\t\t},\n\n\t\ttoggleAll: function (event) {\n\t\t\tvar checked = event.target.checked;\n\t\t\tthis.props.model.toggleAll(checked);\n\t\t},\n\n\t\ttoggle: function (todoToToggle) {\n\t\t\tthis.props.model.toggle(todoToToggle);\n\t\t},\n\n\t\tdestroy: function (todo) {\n\t\t\tthis.props.model.destroy(todo);\n\t\t},\n\n\t\tedit: function (todo) {\n\t\t\tthis.setState({editing: todo.id});\n\t\t},\n\n\t\tsave: function (todoToSave, text) {\n\t\t\tthis.props.model.save(todoToSave, text);\n\t\t\tthis.setState({editing: null});\n\t\t},\n\n\t\tcancel: function () {\n\t\t\tthis.setState({editing: null});\n\t\t},\n\n\t\tclearCompleted: function () {\n\t\t\tthis.props.model.clearCompleted();\n\t\t},\n\n\t\trender: function () {\n\t\t\tvar footer;\n\t\t\tvar main;\n\t\t\tvar todos = this.props.model.todos;\n\n\t\t\tvar shownTodos = todos.filter(function (todo) {\n\t\t\t\tswitch (this.state.nowShowing) {\n\t\t\t\tcase app.ACTIVE_TODOS:\n\t\t\t\t\treturn !todo.completed;\n\t\t\t\tcase app.COMPLETED_TODOS:\n\t\t\t\t\treturn todo.completed;\n\t\t\t\tdefault:\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}, this);\n\n\t\t\tvar todoItems = shownTodos.map(function (todo) {\n\t\t\t\treturn (\n\t\t\t\t\t<TodoItem\n\t\t\t\t\t\tkey={todo.id}\n\t\t\t\t\t\ttodo={todo}\n\t\t\t\t\t\tonToggle={this.toggle.bind(this, todo)}\n\t\t\t\t\t\tonDestroy={this.destroy.bind(this, todo)}\n\t\t\t\t\t\tonEdit={this.edit.bind(this, todo)}\n\t\t\t\t\t\tediting={this.state.editing === todo.id}\n\t\t\t\t\t\tonSave={this.save.bind(this, todo)}\n\t\t\t\t\t\tonCancel={this.cancel}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t}, this);\n\n\t\t\tvar activeTodoCount = todos.reduce(function (accum, todo) {\n\t\t\t\treturn todo.completed ? accum : accum + 1;\n\t\t\t}, 0);\n\n\t\t\tvar completedCount = todos.length - activeTodoCount;\n\n\t\t\tif (activeTodoCount || completedCount) {\n\t\t\t\tfooter =\n\t\t\t\t\t<TodoFooter\n\t\t\t\t\t\tcount={activeTodoCount}\n\t\t\t\t\t\tcompletedCount={completedCount}\n\t\t\t\t\t\tnowShowing={this.state.nowShowing}\n\t\t\t\t\t\tonClearCompleted={this.clearCompleted}\n\t\t\t\t\t/>;\n\t\t\t}\n\n\t\t\tif (todos.length) {\n\t\t\t\tmain = (\n\t\t\t\t\t<section className=\"main\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tclassName=\"toggle-all\"\n\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\tonChange={this.toggleAll}\n\t\t\t\t\t\t\tchecked={activeTodoCount === 0}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ul className=\"todo-list\">\n\t\t\t\t\t\t\t{todoItems}\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</section>\n\t\t\t\t);\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<div>\n\t\t\t\t\t<header className=\"header\">\n\t\t\t\t\t\t<h1>todos</h1>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tref=\"newField\"\n\t\t\t\t\t\t\tclassName=\"new-todo\"\n\t\t\t\t\t\t\tplaceholder=\"What needs to be done?\"\n\t\t\t\t\t\t\tonKeyDown={this.handleNewTodoKeyDown}\n\t\t\t\t\t\t\tautoFocus={true}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</header>\n\t\t\t\t\t{main}\n\t\t\t\t\t{footer}\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t});\n\n\tvar model = new app.TodoModel('react-todos');\n\n\tfunction render() {\n\t\tReact.render(\n\t\t\t<TodoApp model={model}/>,\n\t\t\tdocument.getElementsByClassName('todoapp')[0]\n\t\t);\n\t}\n\n\tmodel.subscribe(render);\n\trender();\n})();\n"]}